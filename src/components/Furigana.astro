<script>
  export interface Props {
    hanzi: string; // The Hanzi string, e.g., "你哋好"
    jyutping: string; // The Jyutping string, e.g., "nei5 dei6 hou2"
  }

  // Splitting the Hanzi and Jyutping into arrays
  function furigana(hanzi: string, jyutping: string) {
    const characters = hanzi.split(""); // Splits Hanzi into individual characters
    const annotations = jyutping.split(" "); // Splits Jyutping into annotations
    if (characters.length !== annotations.length) {
      throw new Error("Hanzi and Jyutping lengths must match!");
    }
    return characters.map((char, i) => ({ char, annotation: annotations[i] }));
  }
</script>

<div>
  {furigana(hanzi, jyutping).map(({ char, annotation }) => (
    <fg t={annotation}>{char}</fg>
  ))}
</div>

